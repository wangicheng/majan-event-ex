<!DOCTYPE html>
<html>
<head>
  <title>Majan Solver</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="sidepanel.css">
</head>
<body>
  <div id="current-board-display">
    <h2>當前版面狀態</h2>
    <p>手牌：<span id="board-hand">尚未獲取</span></p>
    <p>寶牌：<span id="board-dora">尚未獲取</span></p>
    <p>牌山：<span id="board-wall">尚未獲取</span></p>
    <p>抽牌：<span id="board-deadwall">尚未獲取</span></p>
  </div>
  <form id="solver-form">
    <div>
      <label for="hands-input">目標手牌與聽牌：</label>
      <textarea id="hands-input" name="hands-input" placeholder="每行一組，目標手牌和聽牌用空格隔開。麻將牌請連續輸入，不要使用逗號或空格。
例如：1m2m3m4m5m6m7m8m9m1p1p1p2s2s 1m4m7m" rows="5"></textarea>
    </div>
    <div class="number-inputs-group">
      <div>
        <label for="maxTimes">最大換牌次數：</label>
        <input type="number" id="maxTimes" name="maxTimes" value="3">
      </div>
      <div>
        <label for="maxChoice">最大選擇數量：</label>
        <input type="number" id="maxChoice" name="maxChoice" value="13">
      </div>
      <div>
        <label for="lockedInput">鎖定牌數：</label>
        <input type="number" id="lockedInput" name="lockedInput" value="0">
      </div>
      <div class="submit-button-wrapper">
        <button type="submit">計算</button>
      </div>
    </div>
  </form>
  <div id="result-container">
    <h2>結果 (Result)</h2>
    <div id="result-header">
      <span>目標 (Target)</span>
      <span>摸牌 (Take)</span>
      <span>聽牌 (Waited)</span>
    </div>
    <div id="result"></div>
    <div id="solution-display-container">
      <h3>
        <span>換牌步驟 (Solution Steps)</span>
        <div class="solution-buttons">
          <button id="execute-solution-btn" title="自動執行">&#9655;</button>
          <button id="close-solution-btn" title="關閉">&times;</button>
        </div>
      </h3>
      <pre id="solution-display"></pre>
    </div>
  </div>
  <script type="module" src="sidepanel.js"></script>
</body>
</html>